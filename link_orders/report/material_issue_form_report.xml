<odoo>
  <template id="material_issue_form_report">
    <t t-call="link_orders.custom_external_layout_standard">
       <main class="page">

                <t t-foreach="docs" t-as="o">
                

                  <!-- Title -->
                  <center><h2><u>MATERIAL ISSUE FORM</u></h2></center>
<!-- ✅ Parent container, no border -->
<div style="width: 100%; ">

  <!-- ✅ Left table -->
  <div style="display: inline-block; vertical-align: top; width: 50%;">
    <table style="border-collapse: collapse; width: 100%;">
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9; width: 40%;"><strong>Lor No. :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.lor_number"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Date :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-if="o.date"><t t-esc="o.date.strftime('%d/%m/%Y')"/></t></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Brand :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.x_brand"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Prod Order Number :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.production_order_numer"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Product Desc :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.product_tmpl_id.name"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>PI No. :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-if="o.pi_date"><t t-esc="o.pi_date.strftime('%d/%m/%Y')"/></t></td>
      </tr>
    </table>
  </div>

  <!-- ✅ Right table -->
  <div style="display: inline-block; vertical-align: top; width: 40%; margin-left:8%;">
    <table style="border-collapse: collapse; width: 100%;">
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9; width: 50%;"><strong>Document Reference Number :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.code"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Issue No :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.x_issue_number"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Issue Date :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-if="o.x_issue_date"><t t-esc="o.x_issue_date.strftime('%d/%m/%Y')"/></t></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Revision No :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-esc="o.revision_no"/></td>
      </tr>
      <tr>
        <td style="padding: 5px; border: 1px solid black; background: #C4D7E9;"><strong>Revision Date :</strong></td>
        <td style="padding: 5px; border: 1px solid black;"><t t-if="o.x_revision_date"><t t-esc="o.x_revision_date.strftime('%d/%m/%Y')"/></t></td>
      </tr>
    </table>
  </div>

</div>


                  <!-- Materials table -->
                  <br/><br/><br/>
                  <table style="width: 100%; border: 1px solid black; border-collapse: collapse;">
                    <thead>
                      <tr>
                        <th style="border: 1px solid black; padding: 5px;">Sr No.</th>
                        <th style="border: 1px solid black; padding: 5px;">Code</th>
                        <th style="border: 1px solid black; padding: 5px;">Material Description</th>
                        <th style="border: 1px solid black; padding: 5px;">Issued Qty</th>
                        <th style="border: 1px solid black; padding: 5px;">Returned To Store</th>
                        <th style="border: 1px solid black; padding: 5px;">Utilization</th>
                      </tr>
                    </thead>
                    <tbody>
                      <t t-set="sn" t-value="0"/>
                      <t t-set="all_lines" t-value="[]"/>
                      <t t-foreach="docs" t-as="doc">
                        <t t-set="all_lines" t-value="all_lines + list(doc.bom_line_ids)"/>
                      </t>
                      <t t-set="row_limit" t-value="5"/>
                      <t t-set="padding" t-value="row_limit - len(all_lines)"/>
                      <t t-set="final_lines" t-value="all_lines + [None] * padding"/>
                      <t t-foreach="final_lines" t-as="line">
                        <t t-set="sn" t-value="sn + 1"/>
                        <tr>
                          <td style="border: 1px solid black; text-align:center;"><t t-esc="sn"/></td>
                          <td style="border: 1px solid black; text-align:center;"><t t-if="line"><t t-esc="line.product_id.code"/></t></td>
                          <td style="border: 1px solid black;"><t t-if="line"><t t-esc="line.product_id.name"/></t></td>
                          <td style="border: 1px solid black; text-align:center;"><t t-if="line"><t t-esc="line.product_qty"/></t></td>
                          <td style="border: 1px solid black;"><t t-if="line"><t t-esc="line.return_to_store"/></t></td>
                          <td style="border: 1px solid black;"><t t-if="line"><t t-esc="line.utilization"/></t></td>
                        </tr>
                      </t>
                    </tbody>
                  </table>

                  <!-- Signatures -->
                  <br/><br/>
                  <table style="width: 50%; border: 1px solid black; border-collapse: collapse;">
                    <tbody>
                      <tr>
                        <th style="border: 1px solid black; width: 28%; padding: 12px;">Requested By :<br/><t t-esc="o.x_requested_by.name"/></th>
                        <td style="border: 1px solid black; width: 40%; padding: 5px;"/>
                      </tr>
                    </tbody>
                  </table>

                  <br/>
                  <table style="width: 50%; border: 1px solid black; border-collapse: collapse;">
                    <tbody>
                      <tr>
                        <th style="border: 1px solid black; width: 25%; padding: 12px;">Issued By :<br/><t t-esc="o.x_issued_by.name"/></th>
                        <td style="border: 1px solid black; width: 40%; padding: 5px;"/>
                      </tr>
                    </tbody>
                  </table>

                  <br/>
                  <table style="width: 50%; border: 1px solid black; border-collapse: collapse;">
                    <tbody>
                      <tr>
                        <th style="border: 1px solid black; width: 25%; padding: 12px;">Approved By :<br/><t t-esc="o.x_approved_by.name"/></th>
                        <td style="border: 1px solid black; width: 40%; padding: 5px;"/>
                      </tr>
                    </tbody>
                  </table>

                </t>
            </main>
       
     
    </t>
  </template>
</odoo>